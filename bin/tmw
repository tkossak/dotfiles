#!/usr/bin/env bash

session="W"
# tmux new-session -s W

if tmux has-session -t ${session} 2>/dev/null; then
    tmux new-window -t ${session} -n 'rap'
else
    TMUX= tmux new-session -d -s ${session} -n 'rap'
fi

# rap
tmux send-keys -t ${session} 'cd /cygdrive/d/Kossak/tasks' Enter
tmux send-keys -t ${session} 'ranger-cd' Enter
tmux split-window -t ${session} -h -p 50
tmux send-keys -t ${session} 'cd /cygdrive/d/download/hps_test/' Enter
tmux select-pane -t 0

# dotfiles
tmux new-window -t ${session} -n 'dotfiles'
tmux send-keys -t ${session} 'cd ~/.dotfiles' Enter
tmux send-keys -t ${session} 'ranger' Enter
tmux split-window -t ${session} -h -p 50
tmux send-keys -t ${session} 'cd ~/.dotfiles' Enter
tmux send-keys -t ${session} 'git status' Enter
tmux send-keys -t ${session} 'git remote show origin' Enter
tmux send-keys -t ${session} 'git branch -avv' Enter
tmux send-keys -t ${session} 'git up'

# vim-tmp
# tmux new-window -t ${session} -n 'vim-tmp'
# tmux send-keys -t ${session} 'cd /cygdrive/d/download' Enter
# tmux send-keys -t ${session} 'vim' Enter

# tmp
tmux new-window -t ${session} -n 'tmp'
tmux send-keys -t ${session} 'cd /tmp' Enter
tmux send-keys -t ${session} 'ranger-cd' Enter

# english
# tmux new-window -t ${session} -n 'english' -c '/cygdrive/d/download/en'
# tmux send-keys -t ${session} 'gn edit 2'
# tmux split-window -t ${session} -h -p 50 -c '/cygdrive/d/download/en'
# tmux send-keys -t ${session} 'gn show 2 | tee eng_$(date +"%y%m%d_%H%M%S") | checkeng' Enter
# last

# english manual
# file="eng_$(date +'%y%m%d_%H%M%S')"
# tmux new-window -t ${session} -n 'english'
# tmux send-keys -t ${session} 'cd /cygdrive/d/download/en' Enter
# tmux send-keys -t ${session} "vim $file" Enter
# tmux split-window -t ${session} -h -p 50
# tmux send-keys -t ${session} 'cd /cygdrive/d/download/en' Enter
# tmux send-keys -t ${session} "checkeng $file"

# backup
tmux new-window -t ${session} -n 'backup'
tmux send-keys -t ${session} 'cd /cygdrive/k/backup_rsync' Enter
tmux send-keys -t ${session} 'll' Enter
tmux send-keys -t ${session} '/cygdrive/d/Kossak/Linux/scripts/rozne/backup_comp.sh'

tmux select-window -t ${session}:dotfiles
if [[ -n "$TMUX" ]]; then
    tmux switch-client -t ${session}
else
    tmux attach-session -t ${session}
fi
