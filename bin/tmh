#!/usr/bin/env bash

session="H"

if tmux has-session -t ${session} 2>/dev/null; then
    tmux new-window -t ${session} -n 'dotfiles' -c '~/.dotfiles'
else
    # if [[ -n "${TMUX}" ]]; then
        # needed so it won't trigger error: sessions should be nested with care, unset $TMUX to force
        TMUX= tmux new-session -d -s ${session} -n 'dotfiles'
        tmux send-keys -t ${session} 'cd ~/.dotfiles' Enter
        # tmux switch-client -t ${session}
    # else
        # tmux new-session -d -s ${session} -n 'is'
    # fi
fi
#tmux new-window -t ${session} -n 'dotfiles' -c '~/.dotfiles'
tmux send-keys -t ${session} 'ranger-cd' Enter
tmux split-window -t ${session} -h -p 50 -c '~/.dotfiles'
tmux send-keys -t ${session} 'git sr' Enter
# tmux send-keys -t ${session} 'git remote show origin' Enter
tmux send-keys -t ${session} 'git branch -avv' Enter
tmux send-keys -t ${session} 'git up'

## is
#if [[ -d /mnt/is/pobrane ]]; then
#    tmux send-keys -t ${session} 'cd /mnt/is/pobrane' Enter
#else
#    tmux send-keys -t ${session} 'sshfs is: /mnt/is && cd /mnt/is/pobrane' Enter
#fi
#tmux send-keys -t ${session} 'ranger-cd' Enter
#tmux split-window -t ${session} -h -p 50 -c '~/Downloads'
#tmux send-keys -t ${session} 'ranger-cd' Enter
## tmux send-keys -t ${session} 'zf .torrent' Enter
#tmux split-window -t ${session} -v -p 50 -c '/mnt/win_d/filmy/_watch_first_5'
#tmux send-keys -t ${session} 'ranger-cd' Enter
#tmux split-window -t ${session}:is.0 -v -p 50 -c '/mnt/win_d/filmy/_watch_first_5'
#tmux send-keys -t ${session} 'ranger-cd' Enter
#tmux select-pane -t 1

# # english
tmux new-window -t ${session} -n 'english' -c '~/Downloads/en'
tmux send-keys -t ${session} 'vim' Enter
tmux split-window -t ${session} -h -p 50 -c '~/Downloads/en'
# tmux send-keys -t ${session} 'gn show 2 | tee eng_$(date +"%y%m%d_%H%M%S") | checkeng' Enter

# # tmp
# tmux new-window -t ${session} -n 'tmp' -c '~/Downloads'
# # tmux send-keys -t ${session} 'ranger-cd' Enter

# py
#tmux new-window -t ${session} -n 'py' -c '/home/kossak/apps/learn_python'
#tmux send-keys -t ${session} 'ipython3'
#tmux split-window -t ${session} -v -p 50 -c '/home/kossak/apps/learn_python'

# last
tmux select-window -t ${session}:dotfiles
if [[ -n "$TMUX" ]]; then
    tmux switch-client -t ${session}
else
    tmux attach-session -t ${session}
fi
